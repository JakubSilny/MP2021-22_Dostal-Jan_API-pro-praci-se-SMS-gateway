<!-- HTML for static distribution bundle build -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Swagger UI</title>
  <link rel="stylesheet" type="text/css" href="./swagger-ui.css" />
  <link rel="icon" type="image/png" href="./favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="./favicon-16x16.png" sizes="16x16" />
  <style>
    html {
      box-sizing: border-box;
      overflow: -moz-scrollbars-vertical;
      overflow-y: scroll;
    }

    *,
    *:before,
    *:after {
      box-sizing: inherit;
    }

    body {
      margin: 0;
      background: #fafafa;
    }
  </style>
</head>

<body>
  <div id="swagger-ui"></div>

  <script src="./swagger-ui-bundle.js" charset="UTF-8"> </script>
  <script src="./swagger-ui-standalone-preset.js" charset="UTF-8"> </script>
  <script>
    window.onload = function () {
      // Begin Swagger UI call region
      const ui = SwaggerUIBundle({
        spec: {
          "openapi": "3.0.0",
          "info": {
            "description": "This is documentation of API, which acts as SMS gateway.\n\n It provides " +
              "features such as automatic validation (handling diacritics, uknown characters) of SMS body, basic statistics and sending SMS. API supports CORS (including preflight requests) and access to API is protected by unique API key.",
            "version": "v3",
            "title": "SMS Gateway",
            "termsOfService": "http://swagger.io/terms/",
            "contact": {
              "name": "Lukáš Stanislav",
              "email": "stanislav@cliquo.cz"
            },
            "license": {
              "name": "Apache 2.0",
              "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
            }
          },
          "servers": [
            {
              "description": "Server with this API",
              "url": "https://liberec.cliquo.cz"
            }
          ],
          "paths": {
            "/smsgateway/api": {
              "post": {
                "tags": [
                  "api"
                ],
                "description": "Attempts to send SMS with sender determined from API key.",
                "summary": "Send SMS to one recipient",
                "operationId": "sendSMS",
                "requestBody" : {
                  "required": true,
                  "description": "It is recommended to write only non-diacritic characters into payload's text property." +
                  "Some characters inside text property might need to be escaped in order for request to be successful.",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "number": {
                            "type": "string"
                          },
                          "text": {
                            "type": "string"
                          }
                        }
                      },
                      "examples": {
                        "Option 1 (with plus character)": {
                          "value": {
                            "number": "+420721125332",
                            "text": "Hello World"
                          }
                        },
                        "Option 2 (with two zeros)": {
                          "value": {
                            "number": "00420721125332",
                            "text": "Hello World"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "created",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "format": "int32",
                              "example": 32
                            }
                          }
                        }
                      }
                    }
                  },
                  "400": {
                    "description": "Bad Request",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "error": {
                              "type": "string",
                            }
                          }
                        },
                        "examples": {
                          "Option 1 (Invalid request body content type)": {
                            "value": {
                              "error": "Invalid request payload content type"
                            }
                          },
                          "Option 2 (Bad request body structure, must be structured like example schema)": {
                            "value": {
                              "error": "Bad payload structure, must be formatted in JSON"
                            }
                          },
                          "Option 3 (Request body properties are either missing or doesn't match example schema)": {
                            "value": {
                              "error": "Invalid number and text properties in payload"
                            }
                          },
                          "Option 4 (Request body text property must not exceed 160 characters)": {
                            "value": {
                              "error": "Text property length in payload is too long"
                            }
                          }
                        }
                      }
                    }
                  },
                  "401": {
                    "description": "Not authorized",
                    "headers": {
                      "WWW-Authenticate": {
                        "schema": {
                          "type": "string",
                          "example": "apiKey" 
                        },
                        "description": "Gives hint about how to authenticate"
                      }
                    },
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "error": {
                              "type": "string",
                            }
                          }
                        },
                        "examples": {
                          "Option 1 (XXXX header not entered)": {
                            "value": {
                              "error": "Unauthorized"
                            }
                          },
                          "Option 2 (XXXX header exists, but value is invalid)": {
                            "value": {
                              "error": "Invalid API key in request header"
                            }
                          }
                        }
                      }
                    }
                  }
                },
              }
            },
            "/smsgateway/api/{smsId}/status": {
              "get": {
                "tags": [
                  "api"
                ],
                "description": "Finds out, based on entered smsId and API key, if SMS was already sent, is waiting in queue or something went wrong.",
                "summary": "Get status of my chosen sms",
                "operationId": "getStatusById",
                "parameters": [
                  {
                    "name": "smsId",
                    "in": "path",
                    "description": "SMS identifier, if entered, is used to get status of message",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "minimum": 1
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "successful operation",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "example": "52"
                            },
                            "status": {
                              "type": "string",
                              "enum": ["SENT", "PENDING", "GAVEUP"]
                            },
                            "dateSent": {
                              "type": "string",
                              "example": "2021-06-30 18:30:20"
                            },
                            "dateReceived": {
                              "type": "string",
                              "example": "2021-06-30 17:30:10"
                            }
                          }
                        }
                      }
                    }
                  },
                  "400": {
                    "description": "Bad request",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "error": {
                              "type": "string",
                              "example": "Badly entered smsId parameter in url path"
                            }
                          }
                        }
                      }
                    }
                  },
                  "404": {
                    "description": "Not found",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "error": {
                              "type": "string",
                              "example": "Sms was not found"
                            }
                          }
                        }
                      }
                    }
                  },
                  "401": {
                    "description": "Not authorized",
                    "headers": {
                      "WWW-Authenticate": {
                        "schema": {
                          "type": "string",
                          "example": "apiKey"
                        },
                        "description": "Gives hint about how to authenticate"
                      }
                    },
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "error": {
                              "type": "string",
                            }
                          }
                        },
                        "examples": {
                          "Option 1 (XXXX header not entered)": {
                            "value": {
                              "error": "Unauthorized"
                            }
                          },
                          "Option 2 (XXXX header exists, but value is invalid)": {
                            "value": {
                              "error": "Invalid API key in request header"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/smsgateway/api/queue": {
              "get": {
                "tags": [
                  "api"
                ],
                "description": "Finds all SMS, that are currently in queue, based on entered API key",
                "summary": "Get all my sms waiting in queue",
                "operationId": "getSMSFromQueue",
                "responses": {
                  "200": {
                    "description": "successful operation",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "example": "30"
                              },
                              "text": {
                                "type": "string",
                                "example": "Ahoj"
                              },
                              "status": {
                                "type": "string",
                                "enum": ["PENDING", "SENT", "GAVEUP"]
                              },
                              "number": {
                                "type": "string",
                                "example": "606863753"
                              },
                              "dateReceived": {
                                "type": "string",
                                "example": "2021-06-30 18:30:02"
                              },
                              "dateSent": {
                                "type": "string",
                                "example": "2021-06-30 19:30:02"
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "401": {
                    "description": "Not authorized",
                    "headers": {
                      "WWW-Authenticate": {
                        "schema": {
                          "type": "string",
                          "example": "apiKey"
                        },
                        "description": "Gives hint about how to authenticate"

                      }
                    },
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "error": {
                              "type": "string",
                            }
                          }
                        },
                        "examples": {
                          "Option 1 (XXXX header not entered)": {
                            "value": {
                              "error": "Unauthorized"
                            }
                          },
                          "Option 2 (XXXX header exists, but value is invalid)": {
                            "value": {
                              "error": "Invalid API key in request header"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/smsgateway/api/stats": {
              "get": {
                "tags": [
                  "api"
                ],
                "description": "Finds all days from now to prior one year, where atleast one SMS was sent, and counts number of SMS sent per invidual days based on entered API key",
                "summary": "Get number of my sent sms per individual days",
                "operationId": "getDaysWhereSentSmsWere",
                "responses": {
                  "200": {
                    "description": "successful operation",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "date": {
                                "type": "string",
                                "example": "2021-06-30"
                              },
                              "numberOfSentSms": {
                                "type": "string",
                                "example": "332"
                              },
                            }
                          }
                        }
                      }
                    }
                  },
                  "401": {
                    "description": "Not authorized",
                    "headers": {
                      "WWW-Authenticate": {
                        "schema": {
                          "type": "string",
                          "example": "apiKey"
                        },
                        "description": "Gives hint about how to authenticate"
                      }
                    },
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "error": {
                              "type": "string"
                            }
                          }
                        },
                        "examples": {
                          "Option 1 (XXXX header not entered)": {
                            "value": {
                              "error": "Unauthorized"
                            }
                          },
                          "Option 2 (XXXX header exists, but value is invalid)": {
                            "value": {
                              "error": "Invalid API key in request header"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "components": {
            "securitySchemes": {
              "ApiKeyAuth": {
                "type": "apiKey",
                "name": "XXXX",
                "in": "header"
              }
            }
          },
          "externalDocs": {
            "description": "Find out more about Swagger",
            "url": "http://swagger.io"
          },
          "security": [
            { 
              "ApiKeyAuth": [] 
            }
          ]
        },
        dom_id: '#swagger-ui',
        deepLinking: true,
        presets: [
          SwaggerUIBundle.presets.apis,
          SwaggerUIStandalonePreset.slice(1)
        ],
        plugins: [
          SwaggerUIBundle.plugins.DownloadUrl
        ],
        layout: "StandaloneLayout"
      });
      // End Swagger UI call region

      window.ui = ui;
    };
  </script>
</body>

</html>